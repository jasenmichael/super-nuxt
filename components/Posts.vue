<template>
  <div>
    <!-- view selector -->
    <div class="flex items-center pt-2">
      <!-- TODO: add filter components -->
      <button
        v-for="(view, i) in views"
        :key="view"
        :class="i === 0 ? 'ml-auto' : 'ml-1'"
        class="items-center flex"
        aria-label="views[i] + ' view'"
        @click="selectedView = i"
      >
        <svg
          class="w-4 h4 flex items-center"
          :class="i === 0 ? 'mt-3' : 'mt-2'"
          viewBox="0 0 122 122"
          xmlns="http://www.w3.org/2000/svg"
          fill="black"
        >
          <path :d="icons[view]" />
        </svg>
      </button>
    </div>
    <div v-if="posts.length">
      <!-- List View = 0 -->
      <div v-show="selectedView === 0">
        <PostsListView :posts="posts" />
      </div>
      <!-- Masonry View = 1 -->
      <div v-show="selectedView === 1">
        <PostsMasonryView :posts="posts" />
      </div>
      <!-- Grid View = 2 -->
      <div v-show="selectedView === 2">
        <PostsGridView :posts="posts" />
      </div>
    </div>

    <!-- posts empty, show not found -->
    <div v-else>No {{ $route.path.replace('/', '') }} found</div>
  </div>
</template>

<script>
export default {
  props: {
    posts: {
      type: Array,
      default() {
        return []
      },
    },
  },
  data: () => {
    return {
      selectedView: 0,
      views: ['list', 'masonry', 'grid'],
      icons: {
        list:
          'M10.368,0h102.144c5.703,0,10.367,4.665,10.367,10.367v0 c0,5.702-4.664,10.368-10.367,10.368H10.368C4.666,20.735,0,16.07,0,10.368v0C0,4.665,4.666,0,10.368,0L10.368,0z M10.368,82.875 h102.144c5.703,0,10.367,4.665,10.367,10.367l0,0c0,5.702-4.664,10.367-10.367,10.367H10.368C4.666,103.609,0,98.944,0,93.242l0,0 C0,87.54,4.666,82.875,10.368,82.875L10.368,82.875z M10.368,41.438h102.144c5.703,0,10.367,4.665,10.367,10.367l0,0 c0,5.702-4.664,10.368-10.367,10.368H10.368C4.666,62.173,0,57.507,0,51.805l0,0C0,46.103,4.666,41.438,10.368,41.438 L10.368,41.438z',
        masonry:
          'M5.58,0h41.88c0,40.96,0,81.92,0,122.88h0H5.58c-1.52,0-2.92-0.63-3.94-1.65l-0.01-0.01c-1.01-1.01-1.63-2.4-1.63-3.94V5.6 c0-1.53,0.63-2.92,1.65-3.94l0.01-0.01C2.66,0.62,4.05,0,5.58,0L5.58,0L5.58,0z M60.84,122.88h47.7c1.53,0,2.92-0.63,3.94-1.65 l0.01-0.01c1.01-1.01,1.63-2.41,1.63-3.94c0-20.75-0.01-39.99-0.01-60.73H60.84c0,20.73,0,39.93,0,60.66V122.88L60.84,122.88 L60.84,122.88z M60.84,0h47.7c1.53,0,2.92,0.63,3.94,1.65l0.01,0.01c1.01,1.01,1.63,2.41,1.63,3.94c0,13.37-0.01,24.45-0.01,37.81 H60.84c0-14.46,0-28.93,0-43.39V0L60.84,0z',
        grid:
          'M3.78,66.082h47.875c2.045,0,3.717,1.988,3.717,4.414v46.479 c0,2.43-1.671,4.416-3.717,4.416H3.78c-2.043,0-3.717-1.986-3.717-4.416V70.496C0.063,68.07,1.737,66.082,3.78,66.082L3.78,66.082z M71.224,0H119.1c2.046,0,3.717,1.986,3.717,4.415v46.479c0,2.429-1.671,4.413-3.717,4.413H71.224 c-2.045,0-3.714-1.984-3.714-4.413V4.415C67.51,1.986,69.179,0,71.224,0L71.224,0z M3.714,0h47.878 c2.045,0,3.717,1.986,3.717,4.415v46.479c0,2.429-1.671,4.413-3.717,4.413H3.714C1.671,55.307,0,53.323,0,50.894V4.415 C0,1.986,1.671,0,3.714,0L3.714,0z M71.287,67.26h47.876c2.043,0,3.717,1.986,3.717,4.416v46.479c0,2.426-1.674,4.412-3.717,4.412 H71.287c-2.045,0-3.717-1.986-3.717-4.412V71.676C67.57,69.246,69.242,67.26,71.287,67.26L71.287,67.26z',
      },
    }
  },
}
</script>
